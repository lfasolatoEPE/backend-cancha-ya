{
  "openapi": "3.0.0",
  "info": {
    "title": "API CanchaYa",
    "version": "1.1.0",
    "description": "Documentación de la API para gestión de usuarios, reservas, desafíos, valoraciones, reportes y más."
  },
  "servers": [
    {
      "url": "https://backend-cancha-ya-production.up.railway.app/api"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  },
  "tags": [
    {
      "name": "Auth",
      "description": "Login y autenticación"
    },
    {
      "name": "Usuarios",
      "description": "Gestión de usuarios con rol y persona"
    },
    {
      "name": "Personas",
      "description": "Información de las personas"
    },
    {
      "name": "Reservas",
      "description": "Gestión de reservas de canchas"
    },
    {
      "name": "Desafíos",
      "description": "Desafíos competitivos entre jugadores"
    },
    {
      "name": "Clubes",
      "description": "Administración de clubes"
    },
    {
      "name": "Canchas",
      "description": "Administración de canchas"
    },
    {
      "name": "Deportes",
      "description": "Gestión de deportes"
    },
    {
      "name": "Horarios",
      "description": "Disponibilidad de horarios"
    },
    {
      "name": "Disponibilidades",
      "description": "Horarios disponibles para jugar"
    },
    {
      "name": "Deudas",
      "description": "Administración de deudas de personas"
    },
    {
      "name": "Valoraciones",
      "description": "Opiniones y calificaciones de usuarios"
    },
    {
      "name": "Reportes",
      "description": "Exportaciones de datos en CSV"
    },
    {
      "name": "Admin",
      "description": "Panel de administración y estadísticas"
    }
  ],
  "paths": {
    "/admin/resumen": {
      "get": {
        "summary": "Resumen general del sistema",
        "tags": [
          "Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Estadísticas del sistema"
          }
        }
      }
    },
    "/admin/top-jugadores": {
      "get": {
        "summary": "Top 10 jugadores por ranking",
        "tags": [
          "Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de jugadores con mayor ranking"
          }
        }
      }
    },
    "/admin/canchas-mas-usadas": {
      "get": {
        "summary": "Canchas más usadas por cantidad de reservas",
        "tags": [
          "Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Canchas con más uso"
          }
        }
      }
    },
    "/admin/personas-con-deuda": {
      "get": {
        "summary": "Personas con deuda acumulada",
        "tags": [
          "Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Ranking de deudores"
          }
        }
      }
    },
    "/auditoria": {
      "get": {
        "summary": "Auditoría del sistema",
        "tags": [
          "Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "usuarioId",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "accion",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "entidad",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "fechaDesde",
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "in": "query",
            "name": "fechaHasta",
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de eventos registrados"
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "summary": "Iniciar sesión",
        "tags": [
          "Auth"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "example": "usuario@cancha.com"
                  },
                  "password": {
                    "type": "string",
                    "example": "123456"
                  }
                },
                "required": [
                  "email",
                  "password"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Token generado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "token": {
                      "type": "string",
                      "example": "eyJhbGciOiJIUzI1NiIsInR..."
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Credenciales inválidas"
          }
        }
      }
    },
    "/canchas": {
      "get": {
        "summary": "Listar canchas",
        "tags": [
          "Canchas"
        ],
        "responses": {
          "200": {
            "description": "Lista de canchas"
          }
        }
      },
      "post": {
        "summary": "Crear cancha",
        "tags": [
          "Canchas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "nombre": {
                    "type": "string"
                  },
                  "ubicacion": {
                    "type": "string"
                  },
                  "precioPorHora": {
                    "type": "number"
                  },
                  "tipoSuperficie": {
                    "type": "string"
                  },
                  "clubId": {
                    "type": "string"
                  },
                  "deporteId": {
                    "type": "string"
                  }
                },
                "required": [
                  "nombre",
                  "ubicacion",
                  "precioPorHora",
                  "clubId",
                  "deporteId"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Cancha creada"
          }
        }
      }
    },
    "/clubes": {
      "get": {
        "summary": "Listar clubes",
        "tags": [
          "Clubes"
        ],
        "responses": {
          "200": {
            "description": "Lista de clubes"
          }
        }
      },
      "post": {
        "summary": "Crear club",
        "tags": [
          "Clubes"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "nombre": {
                    "type": "string"
                  },
                  "direccion": {
                    "type": "string"
                  },
                  "telefono": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  }
                },
                "required": [
                  "nombre",
                  "direccion",
                  "telefono",
                  "email"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Club creado"
          }
        }
      }
    },
    "/deportes": {
      "get": {
        "summary": "Listar deportes",
        "tags": [
          "Deportes"
        ],
        "responses": {
          "200": {
            "description": "Lista de deportes"
          }
        }
      },
      "post": {
        "summary": "Crear deporte",
        "tags": [
          "Deportes"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "nombre": {
                    "type": "string"
                  }
                },
                "required": [
                  "nombre"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Deporte creado"
          }
        }
      }
    },
    "/desafios": {
      "post": {
        "summary": "Crear desafío",
        "tags": [
          "Desafíos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "reservaId": {
                    "type": "string"
                  },
                  "deporteId": {
                    "type": "string"
                  },
                  "jugadoresRetador": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "nombreRetador": {
                    "type": "string"
                  }
                },
                "required": [
                  "reservaId",
                  "deporteId",
                  "jugadoresRetador"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Desafío creado"
          }
        }
      },
      "get": {
        "summary": "Listar desafíos",
        "tags": [
          "Desafíos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "estado",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "deporteId",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "jugadorId",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de desafíos"
          }
        }
      }
    },
    "/desafios/{id}/aceptar": {
      "patch": {
        "summary": "Aceptar desafío",
        "tags": [
          "Desafíos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "jugadoresRival": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "nombreRival": {
                    "type": "string"
                  }
                },
                "required": [
                  "jugadoresRival"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Desafío aceptado"
          }
        }
      }
    },
    "/desafios/{id}/finalizar": {
      "patch": {
        "summary": "Finalizar desafío",
        "tags": [
          "Desafíos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "resultado": {
                    "type": "string",
                    "example": "3-2"
                  }
                },
                "required": [
                  "resultado"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Desafío finalizado"
          }
        }
      }
    },
    "/deudas": {
      "post": {
        "summary": "Registrar deuda para persona",
        "tags": [
          "Deudas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "personaId": {
                    "type": "string"
                  },
                  "monto": {
                    "type": "number",
                    "format": "decimal"
                  },
                  "fechaVencimiento": {
                    "type": "string",
                    "format": "date"
                  }
                },
                "required": [
                  "personaId",
                  "monto",
                  "fechaVencimiento"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Deuda registrada"
          }
        }
      },
      "get": {
        "summary": "Listar todas las deudas",
        "tags": [
          "Deudas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de deudas"
          }
        }
      }
    },
    "/deudas/persona/{personaId}": {
      "get": {
        "summary": "Obtener deudas de una persona",
        "tags": [
          "Deudas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "personaId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Deudas encontradas"
          },
          "404": {
            "description": "Persona no encontrada o sin deudas"
          }
        }
      }
    },
    "/disponibilidad-cancha": {
      "post": {
        "summary": "Crear disponibilidad horaria para una cancha",
        "tags": [
          "Canchas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "canchaId": {
                    "type": "string",
                    "format": "uuid"
                  },
                  "horarioId": {
                    "type": "string",
                    "format": "uuid"
                  },
                  "diaSemana": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 6,
                    "description": "0 = domingo, 6 = sábado"
                  },
                  "disponible": {
                    "type": "boolean",
                    "default": true
                  }
                },
                "required": [
                  "canchaId",
                  "horarioId",
                  "diaSemana"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Disponibilidad creada exitosamente"
          },
          "400": {
            "description": "Error en los datos enviados"
          }
        }
      }
    },
    "/disponibilidad-cancha/{canchaId}": {
      "get": {
        "summary": "Listar disponibilidades por cancha",
        "tags": [
          "Canchas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "canchaId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de disponibilidades",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "diaSemana": {
                        "type": "integer"
                      },
                      "disponible": {
                        "type": "boolean"
                      },
                      "horario": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "horaInicio": {
                            "type": "string"
                          },
                          "horaFin": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/disponibilidad-cancha/{id}": {
      "delete": {
        "summary": "Eliminar disponibilidad horaria",
        "tags": [
          "Canchas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Disponibilidad eliminada"
          },
          "400": {
            "description": "Error al eliminar disponibilidad"
          }
        }
      }
    },
    "/disponibilidades": {
      "post": {
        "summary": "Registrar disponibilidad de una persona",
        "tags": [
          "Disponibilidades"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "personaId": {
                    "type": "string"
                  },
                  "deporteId": {
                    "type": "string"
                  },
                  "clubIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "fechaDesde": {
                    "type": "string",
                    "format": "date"
                  },
                  "fechaHasta": {
                    "type": "string",
                    "format": "date"
                  },
                  "horaDesde": {
                    "type": "string"
                  },
                  "horaHasta": {
                    "type": "string"
                  }
                },
                "required": [
                  "personaId",
                  "deporteId",
                  "clubIds",
                  "fechaDesde",
                  "fechaHasta",
                  "horaDesde",
                  "horaHasta"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Disponibilidad registrada"
          }
        }
      },
      "get": {
        "summary": "Listar todas las disponibilidades",
        "tags": [
          "Disponibilidades"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de disponibilidades"
          }
        }
      }
    },
    "/horarios": {
      "get": {
        "summary": "Listar horarios disponibles",
        "tags": [
          "Horarios"
        ],
        "responses": {
          "200": {
            "description": "Lista de horarios"
          }
        }
      },
      "post": {
        "summary": "Crear horario",
        "tags": [
          "Horarios"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "horaInicio": {
                    "type": "string"
                  },
                  "horaFin": {
                    "type": "string"
                  }
                },
                "required": [
                  "horaInicio",
                  "horaFin"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Horario creado"
          }
        }
      }
    },
    "/perfil-competitivo": {
      "get": {
        "summary": "Obtener mi perfil competitivo",
        "tags": [
          "Ranking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Perfil competitivo del usuario logueado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "activo": {
                      "type": "boolean"
                    },
                    "ranking": {
                      "type": "number"
                    },
                    "usuario": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "persona": {
                          "type": "object",
                          "properties": {
                            "nombre": {
                              "type": "string"
                            },
                            "apellido": {
                              "type": "string"
                            },
                            "email": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "patch": {
        "summary": "Actualizar mi perfil competitivo",
        "tags": [
          "Ranking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "activo": {
                    "type": "boolean"
                  },
                  "ranking": {
                    "type": "number"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Perfil actualizado"
          },
          "400": {
            "description": "Error de validación"
          }
        }
      }
    },
    "/personas": {
      "get": {
        "summary": "Listar todas las personas",
        "tags": [
          "Personas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de personas del sistema"
          }
        }
      }
    },
    "/personas/{id}": {
      "get": {
        "summary": "Obtener persona por ID",
        "tags": [
          "Personas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Persona encontrada"
          },
          "404": {
            "description": "Persona no encontrada"
          }
        }
      }
    },
    "/ranking": {
      "get": {
        "summary": "Ranking general de jugadores",
        "tags": [
          "Ranking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Lista ordenada de jugadores por ranking",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "usuarioId": {
                        "type": "string"
                      },
                      "nombre": {
                        "type": "string"
                      },
                      "apellido": {
                        "type": "string"
                      },
                      "ranking": {
                        "type": "number"
                      },
                      "activo": {
                        "type": "boolean"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/ranking/usuario/{usuarioId}": {
      "get": {
        "summary": "Ver perfil competitivo de un usuario",
        "tags": [
          "Ranking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "usuarioId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Perfil competitivo del usuario",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "usuarioId": {
                      "type": "string"
                    },
                    "nombre": {
                      "type": "string"
                    },
                    "apellido": {
                      "type": "string"
                    },
                    "ranking": {
                      "type": "number"
                    },
                    "activo": {
                      "type": "boolean"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/reportes/reservas": {
      "get": {
        "summary": "Exportar reservas como CSV",
        "tags": [
          "Reportes"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Archivo CSV de reservas",
            "content": {
              "text/csv": {}
            }
          }
        }
      }
    },
    "/reportes/deudas": {
      "get": {
        "summary": "Exportar deudas impagas como CSV",
        "tags": [
          "Reportes"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Archivo CSV de deudas",
            "content": {
              "text/csv": {}
            }
          }
        }
      }
    },
    "/reportes/ranking-jugadores": {
      "get": {
        "summary": "Exportar ranking de jugadores como CSV",
        "tags": [
          "Reportes"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Archivo CSV con el ranking",
            "content": {
              "text/csv": {}
            }
          }
        }
      }
    },
    "/reservas": {
      "post": {
        "summary": "Crear reserva",
        "tags": [
          "Reservas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "personaId": {
                    "type": "string",
                    "format": "uuid"
                  },
                  "disponibilidadId": {
                    "type": "string",
                    "format": "uuid"
                  },
                  "fechaHora": {
                    "type": "string",
                    "format": "date-time"
                  }
                },
                "required": [
                  "personaId",
                  "disponibilidadId",
                  "fechaHora"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Reserva creada"
          },
          "400": {
            "description": "Error de validación o cancha ocupada"
          }
        }
      },
      "get": {
        "summary": "Listar todas las reservas",
        "tags": [
          "Reservas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de reservas"
          }
        }
      }
    },
    "/reservas/{id}": {
      "get": {
        "summary": "Obtener reserva por ID",
        "tags": [
          "Reservas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Reserva encontrada"
          },
          "404": {
            "description": "Reserva no encontrada"
          }
        }
      },
      "delete": {
        "summary": "Cancelar reserva",
        "tags": [
          "Reservas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Reserva cancelada"
          },
          "404": {
            "description": "No encontrada"
          }
        }
      }
    },
    "/reservas/{id}/confirmar": {
      "patch": {
        "summary": "Confirmar reserva",
        "tags": [
          "Reservas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Reserva confirmada"
          },
          "404": {
            "description": "No encontrada"
          }
        }
      }
    },
    "/usuarios/registro": {
      "post": {
        "summary": "Registro de nuevo usuario",
        "tags": [
          "Usuarios"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "nombre": {
                    "type": "string"
                  },
                  "apellido": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  }
                },
                "required": [
                  "nombre",
                  "apellido",
                  "email",
                  "password"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Usuario creado exitosamente"
          },
          "400": {
            "description": "Error de validación o email duplicado"
          }
        }
      }
    },
    "/usuarios/admin": {
      "post": {
        "summary": "Registrar nuevo administrador",
        "tags": [
          "Usuarios"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "nombre": {
                    "type": "string"
                  },
                  "apellido": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "password": {
                    "type": "string",
                    "minLength": 6
                  }
                },
                "required": [
                  "nombre",
                  "apellido",
                  "email",
                  "password"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Administrador creado"
          },
          "400": {
            "description": "Error en los datos enviados"
          },
          "403": {
            "description": "No autorizado"
          }
        }
      }
    },
    "/usuarios": {
      "get": {
        "summary": "Listar usuarios",
        "tags": [
          "Usuarios"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de usuarios"
          },
          "500": {
            "description": "Error interno"
          }
        }
      }
    },
    "/usuarios/{id}": {
      "patch": {
        "summary": "Actualizar usuario",
        "tags": [
          "Usuarios"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "nombre": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Usuario actualizado"
          },
          "400": {
            "description": "Error de validación"
          },
          "403": {
            "description": "Acceso denegado"
          }
        }
      }
    },
    "/valoraciones": {
      "post": {
        "summary": "Crear valoración",
        "tags": [
          "Valoraciones"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "tipo_objetivo": {
                    "type": "string",
                    "enum": [
                      "club",
                      "cancha",
                      "usuario"
                    ]
                  },
                  "id_objetivo": {
                    "type": "string"
                  },
                  "puntaje": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 5
                  },
                  "comentario": {
                    "type": "string"
                  }
                },
                "required": [
                  "tipo_objetivo",
                  "id_objetivo",
                  "puntaje"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Valoración creada"
          }
        }
      },
      "get": {
        "summary": "Listar todas las valoraciones",
        "tags": [
          "Valoraciones"
        ],
        "responses": {
          "200": {
            "description": "Lista de valoraciones"
          }
        }
      }
    },
    "/valoraciones/{id}": {
      "get": {
        "summary": "Obtener valoración por ID",
        "tags": [
          "Valoraciones"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Valoración encontrada"
          },
          "404": {
            "description": "No encontrada"
          }
        }
      },
      "delete": {
        "summary": "Eliminar valoración",
        "tags": [
          "Valoraciones"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Valoración eliminada"
          }
        }
      }
    }
  }
}